(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{8240:function(t,e,a){Promise.resolve().then(a.bind(a,675))},980:function(t,e,a){"use strict";a.d(e,{S:function(){return c}});var r=a(2265),i=a(3001);let c=(t,e)=>{let[a,c]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async function(){c(await (0,i.BJ)(t,e))})()},[]),a}},3001:function(t,e,a){"use strict";a.d(e,{BJ:function(){return l},BZ:function(){return m},Fw:function(){return h},Ns:function(){return x},ZB:function(){return u},d8:function(){return r},jo:function(){return f},li:function(){return d},lp:function(){return o},m3:function(){return _},v_:function(){return p}});let r=t=>!(t instanceof Error),i=async t=>{try{let e=await fetch(t);if(200!==e.status)throw Error();return await e.json()}catch(t){return t}},c=t=>{let e=JSON.stringify(t),a=JSON.parse(e=e.replaceAll("_id","id"));return{...a,category:a.categories}},n=t=>t.map(t=>c(t)),s=(t,e)=>(t=n(t)).filter(t=>t.users.find(t=>t.id===e)),l=async(t,e)=>{let a=await i("".concat(t,"?categories.name=").concat(e));return r(a)?n(a):a},d=async(t,e)=>{let a=await i("".concat(t,"/").concat(e));return r(a)?c(a):a},o=async(t,e)=>{let a=await i(t);return r(a)?s(a,e):a},_=async(t,e,a)=>{try{let r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(200!==r.status&&"auth"===a)throw Error("Ошибка авторизации");if(200!==r.status&&"register"===a)throw Error("Ошибка регистрации");return await r.json()}catch(t){return t}},u=t=>{localStorage.setItem("jwt",t)},p=()=>localStorage.getItem("jwt"),h=()=>{localStorage.removeItem("jwt")},f=async(t,e)=>{try{let a=await fetch(t,{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});if(200!==a.status)throw Error("Ошибка получения данных");return await a.json()}catch(t){return t}},m=(t,e)=>t.users.find(t=>t.id===e),x=async(t,e,a)=>{try{let r=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({users:a})});if(200!==r.status)throw Error("Ошибка голосования");return await r.json()}catch(t){return t}}},6932:function(t,e,a){"use strict";a.d(e,{H:function(){return i}});let r="https://brotherback.nomorepartiesco.ru/api",i={games:"".concat(r,"/games"),auth:"".concat(r,"/auth/login"),me:"".concat(r,"/me"),register:"".concat(r,"/registration")}},1088:function(t,e,a){"use strict";a.d(e,{Z:function(){return n}});var r=a(7437),i=a(6462),c=a.n(i);let n=t=>(0,r.jsxs)("article",{className:c().card,children:[(0,r.jsx)("img",{src:t.image,className:c().card__image}),(0,r.jsxs)("div",{className:c()["card__content-block"],children:[(0,r.jsx)("h3",{className:c().card__title,children:t.title}),(0,r.jsx)("p",{className:c().card__description,children:t.description}),(0,r.jsxs)("div",{className:c()["card__info-container"],children:[(0,r.jsxs)("p",{className:c().card__author,children:["Автор: ",(0,r.jsx)("span",{className:c().card__accent,children:t.developer})]}),(0,r.jsxs)("p",{className:c().card__votes,children:["Голосов на сайте:",(0,r.jsx)("span",{className:c().card__accent,children:t.users.length})]})]})]})]})},2119:function(t,e,a){"use strict";a.d(e,{r:function(){return f}});var r=a(7437),i=a(4852),c=a.n(i),n=a(7138),s=a(1088);let l=t=>(0,r.jsx)("ul",{className:c()["cards-list"],children:t.data.map(t=>(0,r.jsx)("li",{className:c()["cards-list__item"],children:(0,r.jsx)(n.default,{href:"/games/".concat(t.id),className:c()["card-list__link"],children:(0,r.jsx)(s.Z,{...t})})},t.id))});var d=a(6841),o=a(7805);a(3034),a(7322);var _=a(2265),u=a(5882),p=a.n(u);let h=t=>((0,_.useEffect)(()=>{let t={loop:!1,spaceBetween:10,allowTouchMove:!0,slidesPerView:1,autoplay:{enabled:!1},pagination:{el:".swiper-pagination",type:"fraction",enabled:!0,clickable:!0},breakpoints:{450:{loop:!0,spaceBetween:20,slidesPerView:"auto",allowTouchMove:!1,speed:6500,autoplay:{enabled:!0,delay:0},pagination:{enabled:!1}}},modules:[o.pt,o.tl]};new d.Z(".swiper",t)},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"swiper ".concat(p().slider),children:[(0,r.jsx)("ul",{className:"swiper-wrapper ".concat(p()["slider-wrapper"]),children:t.data.map((t,e)=>(0,r.jsx)("li",{className:"swiper-slide ".concat(p().slide),children:(0,r.jsx)(n.default,{href:"/games/".concat(t.id),children:(0,r.jsx)(s.Z,{...t})})},e))}),(0,r.jsx)("div",{className:"swiper-pagination ".concat(p().pagination)})]})})),f=t=>(0,r.jsxs)("section",{className:c()["list-section"],children:[(0,r.jsx)("h2",{className:c()["list-section__title"],id:t.id,children:t.title}),"slider"===t.type?(0,r.jsx)(h,{data:t.data}):(0,r.jsx)(l,{data:t.data})]})},3270:function(t,e,a){"use strict";a.d(e,{p:function(){return i}});var r=a(7437);let i=()=>(0,r.jsx)("div",{style:{aspectRatio:"16/9",display:"grid",placeItems:"center"},className:"preloader",children:(0,r.jsxs)("svg",{style:{width:"10vw"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",children:[(0,r.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",r:"15",cx:"35",cy:"100",children:(0,r.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:"0"})}),(0,r.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".8",r:"15",cx:"35",cy:"100",children:(0,r.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:"0.05"})}),(0,r.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".6",r:"15",cx:"35",cy:"100",children:(0,r.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:".1"})}),(0,r.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".4",r:"15",cx:"35",cy:"100",children:(0,r.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:".15"})}),(0,r.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".2",r:"15",cx:"35",cy:"100",children:(0,r.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:".2"})})]})})},675:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return l}});var r=a(7437),i=a(2119),c=a(6932),n=a(980),s=a(3270);function l(){let t=(0,n.S)(c.H.games,"popular");return(0,r.jsx)("main",{className:"main-inner",children:t?(0,r.jsx)(i.r,{id:"popular",title:"Популярные",data:t}):(0,r.jsx)(s.p,{})})}},6462:function(t){t.exports={"list-section":"Card_list-section__dLUAQ","list-section__title":"Card_list-section__title__75VAU","cards-list":"Card_cards-list__1cuFG","card-list__link":"Card_card-list__link__a3t4e",card:"Card_card__CWDle",card__image:"Card_card__image__4mueK","card__content-block":"Card_card__content-block__wBJdj",card__title:"Card_card__title__GTs84",card__description:"Card_card__description__D5I82","card__info-container":"Card_card__info-container__4sDHi",card__author:"Card_card__author__u6zAO",card__accent:"Card_card__accent__yghaH",card__votes:"Card_card__votes__P29Ky"}},4852:function(t){t.exports={"list-section":"CardsListSection_list-section__MeWSR","list-section__title":"CardsListSection_list-section__title__IGZpD","cards-list":"CardsListSection_cards-list__2oXa_","card-list__link":"CardsListSection_card-list__link__yht_d",card:"CardsListSection_card__On6J7",card__image:"CardsListSection_card__image__pNjIx","card__content-block":"CardsListSection_card__content-block__NfWtg",card__title:"CardsListSection_card__title__FxMRJ",card__description:"CardsListSection_card__description__ujXO_","card__info-container":"CardsListSection_card__info-container__WsDs5",card__author:"CardsListSection_card__author__5VCXR",card__accent:"CardsListSection_card__accent__mpgxU",card__votes:"CardsListSection_card__votes__CA16_"}},5882:function(t){t.exports={slider:"CardsSlider_slider__DGH8R",slide:"CardsSlider_slide__sq162","slider-wrapper":"CardsSlider_slider-wrapper__gP7pQ",pagination:"CardsSlider_pagination__wnCz1"}}},function(t){t.O(0,[947,138,381,971,23,744],function(){return t(t.s=8240)}),_N_E=t.O()}]);