(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1899:function(e,t,r){Promise.resolve().then(r.bind(r,1383))},980:function(e,t,r){"use strict";r.d(t,{S:function(){return n}});var a=r(2265),i=r(3001);let n=(e,t)=>{let[r,n]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async function(){n(await (0,i.BJ)(e,t))})()},[]),r}},3001:function(e,t,r){"use strict";r.d(t,{BJ:function(){return o},BZ:function(){return x},Fw:function(){return m},Ns:function(){return f},ZB:function(){return u},d8:function(){return a},jo:function(){return h},li:function(){return _},lp:function(){return l},m3:function(){return d},v_:function(){return p}});let a=e=>!(e instanceof Error),i=async e=>{try{let t=await fetch(e);if(200!==t.status)throw Error();return await t.json()}catch(e){return e}},n=e=>{let t=JSON.stringify(e),r=JSON.parse(t=t.replaceAll("_id","id"));return{...r,category:r.categories}},s=e=>e.map(e=>n(e)),c=(e,t)=>(e=s(e)).filter(e=>e.users.find(e=>e.id===t)),o=async(e,t)=>{let r=await i("".concat(e,"?categories.name=").concat(t));return a(r)?s(r):r},_=async(e,t)=>{let r=await i("".concat(e,"/").concat(t));return a(r)?n(r):r},l=async(e,t)=>{let r=await i(e);return a(r)?c(r,t):r},d=async(e,t,r)=>{try{let a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(200!==a.status&&"auth"===r)throw Error("Ошибка авторизации");if(200!==a.status&&"register"===r)throw Error("Ошибка регистрации");return await a.json()}catch(e){return e}},u=e=>{localStorage.setItem("jwt",e)},p=()=>localStorage.getItem("jwt"),m=()=>{localStorage.removeItem("jwt")},h=async(e,t)=>{try{let r=await fetch(e,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});if(200!==r.status)throw Error("Ошибка получения данных");return await r.json()}catch(e){return e}},x=(e,t)=>e.users.find(e=>e.id===t),f=async(e,t,r)=>{try{let a=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({users:r})});if(200!==a.status)throw Error("Ошибка голосования");return await a.json()}catch(e){return e}}},6932:function(e,t,r){"use strict";r.d(t,{H:function(){return i}});let a="https://brotherback.nomorepartiesco.ru/api",i={games:"".concat(a,"/games"),auth:"".concat(a,"/auth/login"),me:"".concat(a,"/me"),register:"".concat(a,"/registration")}},1088:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7437),i=r(6462),n=r.n(i);let s=e=>(0,a.jsxs)("article",{className:n().card,children:[(0,a.jsx)("img",{src:e.image,className:n().card__image}),(0,a.jsxs)("div",{className:n()["card__content-block"],children:[(0,a.jsx)("h3",{className:n().card__title,children:e.title}),(0,a.jsx)("p",{className:n().card__description,children:e.description}),(0,a.jsxs)("div",{className:n()["card__info-container"],children:[(0,a.jsxs)("p",{className:n().card__author,children:["Автор: ",(0,a.jsx)("span",{className:n().card__accent,children:e.developer})]}),(0,a.jsxs)("p",{className:n().card__votes,children:["Голосов на сайте:",(0,a.jsx)("span",{className:n().card__accent,children:e.users.length})]})]})]})]})},2119:function(e,t,r){"use strict";r.d(t,{r:function(){return h}});var a=r(7437),i=r(4852),n=r.n(i),s=r(7138),c=r(1088);let o=e=>(0,a.jsx)("ul",{className:n()["cards-list"],children:e.data.map(e=>(0,a.jsx)("li",{className:n()["cards-list__item"],children:(0,a.jsx)(s.default,{href:"/games/".concat(e.id),className:n()["card-list__link"],children:(0,a.jsx)(c.Z,{...e})})},e.id))});var _=r(6841),l=r(7805);r(3034),r(7322);var d=r(2265),u=r(5882),p=r.n(u);let m=e=>((0,d.useEffect)(()=>{let e={loop:!1,spaceBetween:10,allowTouchMove:!0,slidesPerView:1,autoplay:{enabled:!1},pagination:{el:".swiper-pagination",type:"fraction",enabled:!0,clickable:!0},breakpoints:{450:{loop:!0,spaceBetween:20,slidesPerView:"auto",allowTouchMove:!1,speed:6500,autoplay:{enabled:!0,delay:0},pagination:{enabled:!1}}},modules:[l.pt,l.tl]};new _.Z(".swiper",e)},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"swiper ".concat(p().slider),children:[(0,a.jsx)("ul",{className:"swiper-wrapper ".concat(p()["slider-wrapper"]),children:e.data.map((e,t)=>(0,a.jsx)("li",{className:"swiper-slide ".concat(p().slide),children:(0,a.jsx)(s.default,{href:"/games/".concat(e.id),children:(0,a.jsx)(c.Z,{...e})})},t))}),(0,a.jsx)("div",{className:"swiper-pagination ".concat(p().pagination)})]})})),h=e=>(0,a.jsxs)("section",{className:n()["list-section"],children:[(0,a.jsx)("h2",{className:n()["list-section__title"],id:e.id,children:e.title}),"slider"===e.type?(0,a.jsx)(m,{data:e.data}):(0,a.jsx)(o,{data:e.data})]})},3270:function(e,t,r){"use strict";r.d(t,{p:function(){return i}});var a=r(7437);let i=()=>(0,a.jsx)("div",{style:{aspectRatio:"16/9",display:"grid",placeItems:"center"},className:"preloader",children:(0,a.jsxs)("svg",{style:{width:"10vw"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",children:[(0,a.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",r:"15",cx:"35",cy:"100",children:(0,a.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:"0"})}),(0,a.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".8",r:"15",cx:"35",cy:"100",children:(0,a.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:"0.05"})}),(0,a.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".6",r:"15",cx:"35",cy:"100",children:(0,a.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:".1"})}),(0,a.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".4",r:"15",cx:"35",cy:"100",children:(0,a.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:".15"})}),(0,a.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".2",r:"15",cx:"35",cy:"100",children:(0,a.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:".2"})})]})})},1383:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var a=r(7437),i=r(980),n=r(7415),s=r.n(n);let c=()=>(0,a.jsxs)("section",{className:s().banner,children:[(0,a.jsxs)("div",{className:s().banner__description,children:[(0,a.jsx)("h1",{className:s().banner__title,children:"Портал инди-игр от\xa0студентов Яндекс Практикума"}),(0,a.jsx)("div",{className:s()["banner__text-block"],children:(0,a.jsx)("p",{className:s().banner__text,children:"Студенты курсов разрабатывают свои игры на Unity, здесь мы их публикуем. Вы можете играть прямо на сайте. А если у вас есть аккаунт пользователя — получаете возможность голосовать за игры."})}),(0,a.jsx)("a",{href:"#popular",className:"button ".concat(s().banner__link),children:"Смотреть игры"})]}),(0,a.jsx)("img",{src:"./images/banner-illustration.jpg",alt:"Рука, утопленная в желтом фоне",className:s().banner__image})]});var o=r(2119),_=r(2265),l=r(6077),d=r.n(l);let u=()=>{let[e,t]=(0,_.useState)(!1);return(0,_.useEffect)(()=>{let r;return e&&(r=setTimeout(()=>{t(!1)},5e3)),()=>{clearTimeout(r)}},[e]),(0,a.jsxs)("section",{className:d().promo,children:[(0,a.jsxs)("div",{className:d()["promo__description-block"],children:[(0,a.jsx)("h2",{className:d().promo__title,children:"Твой промо-код"}),(0,a.jsx)("p",{className:d().promo__description,children:"Скидка на все курсы Яндекс Практикума для пользователей нашего сайта!"}),(0,a.jsx)("button",{className:"button ".concat(d().promo__button),onClick:()=>{t(!e)},children:e?(0,a.jsx)("span",{className:d()["promo-code"],children:"WEBTEENS10"}):"Получить код"})]}),(0,a.jsx)("img",{src:"./images/promo-illustration.svg",alt:"Собака",className:d().promo__image})]})};var p=r(6932),m=r(3270);function h(){let e=(0,i.S)(p.H.games,"popular"),t=(0,i.S)(p.H.games,"new");return(0,a.jsxs)("main",{className:"main",children:[(0,a.jsx)(c,{}),e?(0,a.jsx)(o.r,{type:"slider",id:"popular",title:"Популярные",data:e}):(0,a.jsx)(m.p,{}),t?(0,a.jsx)(o.r,{type:"slider",id:"new",title:"Новинки",data:t}):(0,a.jsx)(m.p,{}),(0,a.jsx)(u,{})]})}},7415:function(e){e.exports={banner:"Banner_banner__PUe_2",banner__title:"Banner_banner__title__MP_Rt","banner__text-block":"Banner_banner__text-block__7jHlu",banner__link:"Banner_banner__link__Z0lMZ",banner__image:"Banner_banner__image__UxOLs"}},6462:function(e){e.exports={"list-section":"Card_list-section__dLUAQ","list-section__title":"Card_list-section__title__75VAU","cards-list":"Card_cards-list__1cuFG","card-list__link":"Card_card-list__link__a3t4e",card:"Card_card__CWDle",card__image:"Card_card__image__4mueK","card__content-block":"Card_card__content-block__wBJdj",card__title:"Card_card__title__GTs84",card__description:"Card_card__description__D5I82","card__info-container":"Card_card__info-container__4sDHi",card__author:"Card_card__author__u6zAO",card__accent:"Card_card__accent__yghaH",card__votes:"Card_card__votes__P29Ky"}},4852:function(e){e.exports={"list-section":"CardsListSection_list-section__MeWSR","list-section__title":"CardsListSection_list-section__title__IGZpD","cards-list":"CardsListSection_cards-list__2oXa_","card-list__link":"CardsListSection_card-list__link__yht_d",card:"CardsListSection_card__On6J7",card__image:"CardsListSection_card__image__pNjIx","card__content-block":"CardsListSection_card__content-block__NfWtg",card__title:"CardsListSection_card__title__FxMRJ",card__description:"CardsListSection_card__description__ujXO_","card__info-container":"CardsListSection_card__info-container__WsDs5",card__author:"CardsListSection_card__author__5VCXR",card__accent:"CardsListSection_card__accent__mpgxU",card__votes:"CardsListSection_card__votes__CA16_"}},5882:function(e){e.exports={slider:"CardsSlider_slider__DGH8R",slide:"CardsSlider_slide__sq162","slider-wrapper":"CardsSlider_slider-wrapper__gP7pQ",pagination:"CardsSlider_pagination__wnCz1"}},6077:function(e){e.exports={promo:"Promo_promo__tR27v",promo__title:"Promo_promo__title__q2Ekr",promo__description:"Promo_promo__description__cgn7e",promo__image:"Promo_promo__image__X0h3c",promo__button:"Promo_promo__button__W82nm","promo-code":"Promo_promo-code__7c8iH"}}},function(e){e.O(0,[947,138,381,971,23,744],function(){return e(e.s=1899)}),_N_E=e.O()}]);